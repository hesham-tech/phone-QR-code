<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ููููุฏ QR ูููุฏ ุชุญููู ุงูุฃููุงู (USSD) - ุชุตููู ุงุญุชุฑุงูู</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div id="settingsDialog" class="dialog-backdrop">
      <div class="dialog-content">
        <h3>โ๏ธ ุฅุนุฏุงุฏุงุช ููุฏ (USSD)</h3>
        <div class="input-group">
          <label for="prefixInput">ุฑูุฒ ุงูููุฏ ุงูุงูุชุฑุงุถู</label>
          <input
            id="prefixInput"
            type="text"
            placeholder="ูุซุงู: *9*7*"
            value=""
          />
        </div>
        <button id="savePrefixBtn">๐พ ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
      </div>
    </div>

    <div class="container">
      <div class="input-card card">
        <button id="settingsBtn" title="ุฅุนุฏุงุฏุงุช ููุฏ USSD">
          <i class="fas fa-cog"></i>
        </button>

        <div class="header">
          <h2>โจ ููููุฏ ููุฏ QR ููุชุญููู (USSD)</h2>
        </div>

        <div class="form-grid">
          <div class="input-group">
            <label for="phone">ุฑูู ุงููุณุชููุฏ</label>

            <div class="input-with-button">
              <input
                id="phone"
                list="savedNumbers"
                type="text"
                placeholder="ุงูุฑูู ุงููุญูู ุงููู ูุซุงู : 01012345678 "
                inputmode="numeric"
              />

              <button id="contactPickerBtn" title="ุงุฎุชูุงุฑ ูู ุฌูุงุช ุงูุงุชุตุงู">
                <i class="fas fa-user-circle"></i>
              </button>
            </div>

            <datalist id="savedNumbers"></datalist>
          </div>

          <div class="input-group">
            <label for="amount">ุงููุจูุบ (ุงุฎุชูุงุฑู)</label>
            <input id="amount" type="number" placeholder="ูุซุงู: 500" min="1" />
          </div>

          <div class="input-group">
            <input id="displayPrefix" type="hidden" readonly disabled />
          </div>
        </div>

        <div class="actions">
          <button class="btn btn-primary" id="gen">
            โ ุฅูุดุงุก QR (ุจุงูุฑูู ูุงููุจูุบ)
          </button>
          <button class="btn btn-secondary" id="genFixed">
            ๐ ุฅูุดุงุก QR (ุจุงูุฑูู ููุท - ุจุฏูู ูุจูุบ)
          </button>
        </div>
      </div>

      <div class="qr-card card qr-section">
        <h3>ููุฏ ุงูุงุณุชุฌุงุจุฉ ุงูุณุฑูุนุฉ (QR)</h3>
        <div id="qrBox" class="qr-box">
          <span class="qr-placeholder">ุณูุธูุฑ ุงูู QR ููุง ุจุนุฏ ุงูุฅุฏุฎุงู</span>
        </div>

        <div id="codeInfo" class="code-info">
          <p>ุงูููุฏ ุงููุงุชุฌ:</p>
          <span dir="ltr" lang="en" id="ussdCode"></span>
          <button id="copyBtn">๐ ูุณุฎ ุงูููุฏ</button>
        </div>
      </div>
    </div>
    <div id="numbersDialog" class="dialog-backdrop hidden">
      <div class="dialog-content">
        <h3 id="dialogTitle">ุงุฎุชุฑ ุฑูู ุงููุงุชู</h3>
        <ul id="contactNumbersList" class="contact-list"></ul>
        <div class="dialog-actions">
          <button id="dialogCancelBtn" class="btn btn-secondary">ุฅูุบุงุก</button>
        </div>
      </div>
    </div>
    <footer class="main-footer">
      <div class="footer-content">
        ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ : <strong>hesham mohamed</strong>
      </div>
    </footer>
    <!-- <script src="sw.js"></script> -->
    <script src="script.js"></script>
    <script src="contact-picker.js"></script>
    <!-- <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/phone-QR-code/sw.js")
            .then((registration) => {
              console.log("Service Worker registered: ", registration.scope);
            })
            .catch((err) => {
              console.error("Service Worker registration failed: ", err);
            });
        });
      }
    </script> -->
  </body>
</html>
